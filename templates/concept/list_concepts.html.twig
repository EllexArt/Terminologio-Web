{% extends 'base.html.twig' %}

{% block title %}Terminologio - List of concepts{% endblock %}

{% block body %}
    {% block navigation %}{{ parent() }}{% endblock %}

    <div class="flex flex-col flex-grow justify-center items-center">
        <form action="{{ path('app_concept_list') }}" method="get">
            <label>
                Language :
                <select name="language">
                    <option value="-1">All</option>
                    {% for language in languages %}
                        <option value="{{ language.id }}">{{ language.name }}</option>
                    {% endfor %}
                </select>
            </label>
            <label>
                Category :
                <select name="category">
                    <option value="-1">All</option>
                    {% for category in categories %}
                        <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                </select>
            </label>
            <input type="submit" value="Submit">
        </form>
    {% for concept in concepts %}
        <a class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 align-middle" href="{{ path('app_concept_show', {'title': concept.title}) }}">
            <h2>Title : {{ concept.title }}</h2>
            <p>Default language : {{ concept.defaultLanguage.name }}</p>
            <div>
                <p>Other languages : </p>
                <p>
                {% for component_name in concept.components[0].componentNames %}
                    {% if component_name.language.name != concept.defaultLanguage.name %}
                        {{ component_name.language.name }}
                    {% endif %}
                {% endfor %}
                </p>
            </div>
        </a>
    {% endfor %}
    </div>
{% endblock %}